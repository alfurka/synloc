<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How well synthpop perform with non-convex distributions? &mdash; Synloc 0.1.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Synloc
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/resamplers.html">Resamplers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/methods.html">Methods</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Synloc</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">How well synthpop perform with non-convex distributions?</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Notebooks/Paper_Simulations.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars and line breaks on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
    white-space: pre;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#conda create -n exp python=3.9 ipykernel</span>
<span class="c1">#pip install sdv</span>
<span class="c1">#pip install statsmodels synloc</span>
<span class="kn">import</span> <span class="nn">synloc</span> <span class="k">as</span> <span class="nn">s</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">fetch_california_housing</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">from</span> <span class="nn">statsmodels.iolib.summary2</span> <span class="kn">import</span> <span class="n">summary_col</span>
<span class="kn">from</span> <span class="nn">sdv.metrics.tabular</span> <span class="kn">import</span> <span class="n">KSComplement</span>
<span class="kn">from</span> <span class="nn">sdv.lite</span> <span class="kn">import</span> <span class="n">TabularPreset</span>
<span class="kn">from</span> <span class="nn">sdv.tabular</span> <span class="kn">import</span> <span class="n">GaussianCopula</span><span class="p">,</span> <span class="n">CTGAN</span>
</pre></div>
</div>
</div>
<p>The Local resampler is expected to perform well on convex distributions. Therefore, non-convex distributions which are clustered around different spaces are selected for the simulation purpose. We first simulate the following distribution:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
    u_{j,i} &amp;\sim Normal(0, 1),  \\
    x_i &amp;\sim r_i * \cos{a_i} + u_{1,i},\\
    y_i &amp;\sim 0.5 x_i - 0.05 x_i^2 + r_i * \sin{a_i} + u_{2,i},
\end{aligned}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(r_i\)</span> is 8 or 20 with same probability, and <span class="math notranslate nohighlight">\(a_i\)</span> is drawn from a uniform distribution with lower and upper bounds, 0 and $ 2:nbsphinx-math:<a href="#id1"><span class="problematic" id="id2">`</span></a>pi`$, respectively.</p>
<p>We locally estimate multivariate normal distribution with <span class="math notranslate nohighlight">\(k=20\)</span> and draw synthetic values from the estimated distributions.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">sample_circulars_xy</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;circulars.csv&#39;</span><span class="p">)</span>
<span class="n">syn</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">LocalCov</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">K</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">syn</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">syn</span><span class="o">.</span><span class="n">comparePlots</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="c1">#bivariate_paper.png</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 1000/1000 [00:02&lt;00:00, 441.84it/s]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/Notebooks_Paper_Simulations_2_1.png" src="../_images/Notebooks_Paper_Simulations_2_1.png" />
</div>
</div>
<p>Figure reff shows that noncovex distributions can be replicated quite well with locally estimated distributions, even though synthetic values are drawn from the multivariate normal distribution. Note that, we use <span class="math notranslate nohighlight">\(k=20\)</span> to estimate each distribution whereas this is a bivariate sample. It is possible to replicate original sample more accurately with smaller <span class="math notranslate nohighlight">\(k\)</span>.</p>
<p>The next simulation generates a trivariate sample as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
x_i &amp;\sim Beta(0.1,\,0.1),\\
y_i &amp;\sim Beta(0.1,\, 0.5),\\
z_i &amp;\sim 10 * y_i + u_i,
\end{aligned}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(u_i\)</span> is drawn from a standard normal distribution. Again, we locally estimate multivariate normal distribution with <span class="math notranslate nohighlight">\(k=20\)</span> and draw synthetic values from the estimated distributions.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data2</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">sample_trivariate_xyz</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">data2</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;trivariate.csv&#39;</span><span class="p">)</span>
<span class="n">syn2</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">LocalCov</span><span class="p">(</span><span class="n">data2</span><span class="p">,</span> <span class="n">K</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">syn2</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">syn2</span><span class="o">.</span><span class="n">comparePlots</span><span class="p">(</span><span class="n">data2</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="c1">#trivariate_paper.png</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 1000/1000 [00:01&lt;00:00, 614.63it/s]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/Notebooks_Paper_Simulations_4_1.png" src="../_images/Notebooks_Paper_Simulations_4_1.png" />
</div>
</div>
<p>Original sample has clusters around the corners. Local resamplers can replicate the original clustered sample quite well again. Replicating both samples, otherwise, should require computationally heavy-burden algorithms or nonparametric distributions which often require well hyperparameter-tuning.</p>
<p>We replicate a real data set that contains more than three variables. We will, then, compare regression models estimated with the original and synthetic samples. The data set has median house values in California districts generated from 1990 US Census along with other explanatory variables such as median income, house age, average number of rooms/bedrooms, population, the average number of household members <span class="math">\citep{pace1997sparse}</span>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">housing</span> <span class="o">=</span> <span class="n">fetch_california_housing</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">housing</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">housing</span><span class="p">[</span><span class="s1">&#39;feature_names&#39;</span><span class="p">]</span>
<span class="n">df</span><span class="p">[</span><span class="n">housing</span><span class="p">[</span><span class="s1">&#39;target_names&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">housing</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;MedInc&#39;</span><span class="p">,</span> <span class="s1">&#39;HouseAge&#39;</span><span class="p">,</span> <span class="s1">&#39;AveRooms&#39;</span><span class="p">,</span> <span class="s1">&#39;AveBedrms&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">,</span>
       <span class="s1">&#39;AveOccup&#39;</span><span class="p">,</span> <span class="s1">&#39;MedHouseVal&#39;</span><span class="p">]]</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;california.csv&#39;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">dfSynthpop</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;california_synthpop.csv&#39;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MedInc</th>
      <th>HouseAge</th>
      <th>AveRooms</th>
      <th>AveBedrms</th>
      <th>Population</th>
      <th>AveOccup</th>
      <th>MedHouseVal</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>8.3252</td>
      <td>41.0</td>
      <td>6.984127</td>
      <td>1.023810</td>
      <td>322.0</td>
      <td>2.555556</td>
      <td>4.526</td>
    </tr>
    <tr>
      <th>1</th>
      <td>8.3014</td>
      <td>21.0</td>
      <td>6.238137</td>
      <td>0.971880</td>
      <td>2401.0</td>
      <td>2.109842</td>
      <td>3.585</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7.2574</td>
      <td>52.0</td>
      <td>8.288136</td>
      <td>1.073446</td>
      <td>496.0</td>
      <td>2.802260</td>
      <td>3.521</td>
    </tr>
    <tr>
      <th>3</th>
      <td>5.6431</td>
      <td>52.0</td>
      <td>5.817352</td>
      <td>1.073059</td>
      <td>558.0</td>
      <td>2.547945</td>
      <td>3.413</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.8462</td>
      <td>52.0</td>
      <td>6.281853</td>
      <td>1.081081</td>
      <td>565.0</td>
      <td>2.181467</td>
      <td>3.422</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>20635</th>
      <td>1.5603</td>
      <td>25.0</td>
      <td>5.045455</td>
      <td>1.133333</td>
      <td>845.0</td>
      <td>2.560606</td>
      <td>0.781</td>
    </tr>
    <tr>
      <th>20636</th>
      <td>2.5568</td>
      <td>18.0</td>
      <td>6.114035</td>
      <td>1.315789</td>
      <td>356.0</td>
      <td>3.122807</td>
      <td>0.771</td>
    </tr>
    <tr>
      <th>20637</th>
      <td>1.7000</td>
      <td>17.0</td>
      <td>5.205543</td>
      <td>1.120092</td>
      <td>1007.0</td>
      <td>2.325635</td>
      <td>0.923</td>
    </tr>
    <tr>
      <th>20638</th>
      <td>1.8672</td>
      <td>18.0</td>
      <td>5.329513</td>
      <td>1.171920</td>
      <td>741.0</td>
      <td>2.123209</td>
      <td>0.847</td>
    </tr>
    <tr>
      <th>20639</th>
      <td>2.3886</td>
      <td>16.0</td>
      <td>5.254717</td>
      <td>1.162264</td>
      <td>1387.0</td>
      <td>2.616981</td>
      <td>0.894</td>
    </tr>
  </tbody>
</table>
<p>20640 rows × 7 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">syn3</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">LocalCov</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">K</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">dfCov</span> <span class="o">=</span> <span class="n">syn3</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 20640/20640 [00:29&lt;00:00, 702.57it/s]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">descriptives_syn</span> <span class="o">=</span> <span class="n">syn3</span><span class="o">.</span><span class="n">synthetic</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">]]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">descriptives_syn</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="s1">&#39;Std.Dev&#39;</span><span class="p">,</span> <span class="s1">&#39;Median&#39;</span><span class="p">,</span> <span class="s1">&#39;Min&#39;</span><span class="p">,</span><span class="s1">&#39;Max&#39;</span> <span class="p">]</span>
<span class="n">descriptives_real</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">]]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">descriptives_real</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="s1">&#39;Std.Dev&#39;</span><span class="p">,</span> <span class="s1">&#39;Median&#39;</span><span class="p">,</span> <span class="s1">&#39;Min&#39;</span><span class="p">,</span><span class="s1">&#39;Max&#39;</span> <span class="p">]</span>
<span class="n">descriptives</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">({</span><span class="s1">&#39;Original Sample&#39;</span><span class="p">:</span><span class="n">descriptives_real</span><span class="p">,</span> <span class="s1">&#39;Synthetic Sample&#39;</span><span class="p">:</span><span class="n">descriptives_syn</span><span class="p">},</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">descriptives</span><span class="o">.</span><span class="n">to_latex</span><span class="p">(</span><span class="s1">&#39;descriptives.tex&#39;</span><span class="p">)</span>
<span class="n">descriptives</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
C:\Users\alfur\AppData\Local\Temp\ipykernel_10936\2574859923.py:6: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  descriptives.to_latex(&#39;descriptives.tex&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="5" halign="left">Original Sample</th>
      <th colspan="5" halign="left">Synthetic Sample</th>
    </tr>
    <tr>
      <th></th>
      <th>Average</th>
      <th>Std.Dev</th>
      <th>Median</th>
      <th>Min</th>
      <th>Max</th>
      <th>Average</th>
      <th>Std.Dev</th>
      <th>Median</th>
      <th>Min</th>
      <th>Max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>MedInc</th>
      <td>3.871</td>
      <td>1.900</td>
      <td>3.535</td>
      <td>0.500</td>
      <td>15.000</td>
      <td>3.872</td>
      <td>1.858</td>
      <td>3.527</td>
      <td>0.500</td>
      <td>15.000</td>
    </tr>
    <tr>
      <th>HouseAge</th>
      <td>28.639</td>
      <td>12.586</td>
      <td>29.000</td>
      <td>1.000</td>
      <td>52.000</td>
      <td>28.716</td>
      <td>12.379</td>
      <td>28.898</td>
      <td>1.000</td>
      <td>52.000</td>
    </tr>
    <tr>
      <th>AveRooms</th>
      <td>5.429</td>
      <td>2.474</td>
      <td>5.229</td>
      <td>0.846</td>
      <td>141.909</td>
      <td>5.422</td>
      <td>2.138</td>
      <td>5.219</td>
      <td>1.193</td>
      <td>78.741</td>
    </tr>
    <tr>
      <th>AveBedrms</th>
      <td>1.097</td>
      <td>0.474</td>
      <td>1.049</td>
      <td>0.333</td>
      <td>34.067</td>
      <td>1.089</td>
      <td>0.387</td>
      <td>1.047</td>
      <td>0.618</td>
      <td>15.668</td>
    </tr>
    <tr>
      <th>Population</th>
      <td>1425.477</td>
      <td>1132.462</td>
      <td>1166.000</td>
      <td>3.000</td>
      <td>35682.000</td>
      <td>1425.072</td>
      <td>1064.521</td>
      <td>1161.552</td>
      <td>3.000</td>
      <td>26093.305</td>
    </tr>
    <tr>
      <th>AveOccup</th>
      <td>3.071</td>
      <td>10.386</td>
      <td>2.818</td>
      <td>0.692</td>
      <td>1243.333</td>
      <td>2.916</td>
      <td>1.268</td>
      <td>2.846</td>
      <td>0.692</td>
      <td>83.184</td>
    </tr>
    <tr>
      <th>MedHouseVal</th>
      <td>2.069</td>
      <td>1.154</td>
      <td>1.797</td>
      <td>0.150</td>
      <td>5.000</td>
      <td>2.057</td>
      <td>1.137</td>
      <td>1.784</td>
      <td>0.150</td>
      <td>5.000</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;constant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">dfCov</span><span class="p">[</span><span class="s1">&#39;constant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">dfSynthpop</span><span class="p">[</span><span class="s1">&#39;constant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">X</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;constant&#39;</span><span class="p">,</span> <span class="s1">&#39;MedInc&#39;</span><span class="p">,</span> <span class="s1">&#39;HouseAge&#39;</span><span class="p">,</span> <span class="s1">&#39;AveRooms&#39;</span><span class="p">,</span> <span class="s1">&#39;AveBedrms&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">,</span> <span class="s1">&#39;AveOccup&#39;</span><span class="p">]</span>
<span class="n">Y</span> <span class="o">=</span> <span class="s1">&#39;MedHouseVal&#39;</span>

<span class="n">fastml</span> <span class="o">=</span> <span class="n">TabularPreset</span><span class="p">(</span><span class="s1">&#39;FAST_ML&#39;</span><span class="p">)</span>
<span class="n">fastml</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">dfSDV</span> <span class="o">=</span> <span class="n">fastml</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">GCopula</span> <span class="o">=</span> <span class="n">GaussianCopula</span><span class="p">()</span>
<span class="n">GCopula</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">dfGCopula</span> <span class="o">=</span> <span class="n">GCopula</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>


<span class="n">model_original</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">Y</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">X</span><span class="p">])</span>
<span class="n">result_original</span> <span class="o">=</span> <span class="n">model_original</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="n">model_cov</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">syn3</span><span class="o">.</span><span class="n">synthetic</span><span class="p">[</span><span class="n">Y</span><span class="p">],</span> <span class="n">syn3</span><span class="o">.</span><span class="n">synthetic</span><span class="p">[</span><span class="n">X</span><span class="p">])</span>
<span class="n">result_cov</span> <span class="o">=</span> <span class="n">model_cov</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="n">model_SDV</span><span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">dfSDV</span><span class="p">[</span><span class="n">Y</span><span class="p">],</span> <span class="n">dfSDV</span><span class="p">[</span><span class="n">X</span><span class="p">])</span>
<span class="n">result_SDV</span> <span class="o">=</span> <span class="n">model_SDV</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="n">model_synthpop</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">dfSynthpop</span><span class="p">[</span><span class="n">Y</span><span class="p">],</span> <span class="n">dfSynthpop</span><span class="p">[</span><span class="n">X</span><span class="p">])</span>
<span class="n">result_synthpop</span> <span class="o">=</span> <span class="n">model_synthpop</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
c:\Users\alfur\.conda\envs\exp\lib\site-packages\sdv\lite\tabular.py:51: UserWarning: No metadata provided. Metadata will be automatically detected from your data. This process may not be accurate. We recommend writing metadata to ensure correct data handling.
  warnings.warn(&#39;No metadata provided. Metadata will be automatically &#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reg_table</span> <span class="o">=</span> <span class="n">summary_col</span><span class="p">([</span><span class="n">result_original</span><span class="p">,</span> <span class="n">result_cov</span><span class="p">,</span> <span class="n">result_SDV</span><span class="p">,</span> <span class="n">result_synthpop</span><span class="p">],</span>
<span class="n">model_names</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Original&#39;</span><span class="p">,</span> <span class="s1">&#39;LocalCov&#39;</span><span class="p">,</span> <span class="s1">&#39;FAST_ML&#39;</span><span class="p">,</span> <span class="s1">&#39;Synthpop&#39;</span><span class="p">],</span>
<span class="n">stars</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="n">float_format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.3f</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">reg_table</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table class="simpletable">
<tr>
         <td></td>        <th>Original</th>  <th>LocalCov</th>   <th>FAST_ML</th>  <th>Synthpop</th>
</tr>
<tr>
  <th>constant</th>       <td>-0.439***</td> <td>-0.413***</td> <td>-0.206***</td>  <td>-0.020</td>
</tr>
<tr>
  <th></th>                <td>(0.028)</td>   <td>(0.030)</td>   <td>(0.028)</td>   <td>(0.025)</td>
</tr>
<tr>
  <th>MedInc</th>         <td>0.537***</td>  <td>0.596***</td>  <td>0.543***</td>  <td>0.456***</td>
</tr>
<tr>
  <th></th>                <td>(0.004)</td>   <td>(0.004)</td>   <td>(0.004)</td>   <td>(0.004)</td>
</tr>
<tr>
  <th>HouseAge</th>       <td>0.017***</td>  <td>0.017***</td>  <td>0.016***</td>  <td>0.014***</td>
</tr>
<tr>
  <th></th>                <td>(0.000)</td>   <td>(0.000)</td>   <td>(0.000)</td>   <td>(0.000)</td>
</tr>
<tr>
  <th>AveRooms</th>       <td>-0.212***</td> <td>-0.289***</td> <td>-0.166***</td> <td>-0.084***</td>
</tr>
<tr>
  <th></th>                <td>(0.006)</td>   <td>(0.006)</td>   <td>(0.004)</td>   <td>(0.004)</td>
</tr>
<tr>
  <th>AveBedrms</th>      <td>0.994***</td>  <td>1.382***</td>  <td>0.621***</td>  <td>0.339***</td>
</tr>
<tr>
  <th></th>                <td>(0.030)</td>   <td>(0.033)</td>   <td>(0.018)</td>   <td>(0.019)</td>
</tr>
<tr>
  <th>Population</th>     <td>0.000***</td>  <td>0.000***</td>  <td>0.000***</td>   <td>0.000*</td>
</tr>
<tr>
  <th></th>                <td>(0.000)</td>   <td>(0.000)</td>   <td>(0.000)</td>   <td>(0.000)</td>
</tr>
<tr>
  <th>AveOccup</th>       <td>-0.005***</td> <td>-0.109***</td> <td>-0.019***</td> <td>-0.002***</td>
</tr>
<tr>
  <th></th>                <td>(0.001)</td>   <td>(0.004)</td>   <td>(0.001)</td>   <td>(0.001)</td>
</tr>
<tr>
  <th>R-squared</th>        <td>0.540</td>     <td>0.611</td>     <td>0.552</td>     <td>0.516</td>
</tr>
<tr>
  <th>R-squared Adj.</th>   <td>0.540</td>     <td>0.611</td>     <td>0.552</td>     <td>0.516</td>
</tr>
</table></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">reg_table</span><span class="o">.</span><span class="n">as_latex</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
\begin{table}
\caption{}
\label{}
\begin{center}
\begin{tabular}{lllll}
\hline
               &amp; Original  &amp; LocalCov  &amp; FAST\_ML  &amp; Synthpop   \\
\hline
constant       &amp; -0.439*** &amp; -0.413*** &amp; -0.206*** &amp; -0.020     \\
               &amp; (0.028)   &amp; (0.030)   &amp; (0.028)   &amp; (0.025)    \\
MedInc         &amp; 0.537***  &amp; 0.596***  &amp; 0.543***  &amp; 0.456***   \\
               &amp; (0.004)   &amp; (0.004)   &amp; (0.004)   &amp; (0.004)    \\
HouseAge       &amp; 0.017***  &amp; 0.017***  &amp; 0.016***  &amp; 0.014***   \\
               &amp; (0.000)   &amp; (0.000)   &amp; (0.000)   &amp; (0.000)    \\
AveRooms       &amp; -0.212*** &amp; -0.289*** &amp; -0.166*** &amp; -0.084***  \\
               &amp; (0.006)   &amp; (0.006)   &amp; (0.004)   &amp; (0.004)    \\
AveBedrms      &amp; 0.994***  &amp; 1.382***  &amp; 0.621***  &amp; 0.339***   \\
               &amp; (0.030)   &amp; (0.033)   &amp; (0.018)   &amp; (0.019)    \\
Population     &amp; 0.000***  &amp; 0.000***  &amp; 0.000***  &amp; 0.000*     \\
               &amp; (0.000)   &amp; (0.000)   &amp; (0.000)   &amp; (0.000)    \\
AveOccup       &amp; -0.005*** &amp; -0.109*** &amp; -0.019*** &amp; -0.002***  \\
               &amp; (0.001)   &amp; (0.004)   &amp; (0.001)   &amp; (0.001)    \\
R-squared      &amp; 0.540     &amp; 0.611     &amp; 0.552     &amp; 0.516      \\
R-squared Adj. &amp; 0.540     &amp; 0.611     &amp; 0.552     &amp; 0.516      \\
\hline
\end{tabular}
\end{center}
\end{table}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">KSComplement</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">dfCov</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">KSComplement</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">dfSDV</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">KSComplement</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">dfSynthpop</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.020796996124031075
0.17058502906976747
0.008036579457364357
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(20640, 8)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;MedInc&#39;</span><span class="p">,</span> <span class="s1">&#39;HouseAge&#39;</span><span class="p">,</span> <span class="s1">&#39;MedHouseVal&#39;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">dpi</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Sample&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">y</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Spectral&quot;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Local Resampler&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dfCov</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">dfCov</span><span class="p">[</span><span class="n">y</span><span class="p">],</span> <span class="n">dfCov</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">dfCov</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Spectral&quot;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>

<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;FAST ML&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dfSDV</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">dfSDV</span><span class="p">[</span><span class="n">y</span><span class="p">],</span> <span class="n">dfSDV</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">dfSDV</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Spectral&quot;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>

<span class="n">ax4</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Synthpop&#39;</span><span class="p">)</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dfSynthpop</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">dfSynthpop</span><span class="p">[</span><span class="n">y</span><span class="p">],</span> <span class="n">dfSynthpop</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">dfSynthpop</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Spectral&quot;</span><span class="p">)</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;../../img/localcov_fastML_synthpop.png&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/Notebooks_Paper_Simulations_16_0.png" src="../_images/Notebooks_Paper_Simulations_16_0.png" />
</div>
</div>
<section id="How-well-synthpop-perform-with-non-convex-distributions?">
<h1>How well synthpop perform with non-convex distributions?<a class="headerlink" href="#How-well-synthpop-perform-with-non-convex-distributions?" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">circulars</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;circulars_synthpop.csv&#39;</span><span class="p">)</span>
<span class="n">trivariate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;trivariate_synthpop.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">circulars</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">circulars</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;../../img/synthpop_circular.png&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/Notebooks_Paper_Simulations_19_0.png" src="../_images/Notebooks_Paper_Simulations_19_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">dpi</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Synthetic Sample&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">trivariate</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">trivariate</span><span class="p">[</span><span class="n">y</span><span class="p">],</span> <span class="n">trivariate</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">trivariate</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Spectral&quot;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;../../img/synthpop_trivariate.png&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/Notebooks_Paper_Simulations_20_0.png" src="../_images/Notebooks_Paper_Simulations_20_0.png" />
</div>
</div>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Ali F. Kalay.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>